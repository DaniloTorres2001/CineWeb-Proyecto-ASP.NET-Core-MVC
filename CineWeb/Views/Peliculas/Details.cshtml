@model CineWeb.Models.Pelicula

@{
    ViewData["Title"] = "Detalles de Película";
}

<h1>Detalles de Película</h1>

<div>
    <h4>Pelicula</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">Título</dt>
        <dd class="col-sm-10">@Model.Titulo</dd>

        <dt class="col-sm-2">Sinopsis</dt>
        <dd class="col-sm-10">@Model.Sinopsis</dd>

        <dt class="col-sm-2">Duración</dt>
        <dd class="col-sm-10">@Model.Duracion min</dd>

        <dt class="col-sm-2">Fecha de Estreno</dt>
        @(Model.FechaEstreno?.ToShortDateString() ?? "Sin fecha")

        <dt class="col-sm-2">Imagen</dt>
        <dd class="col-sm-10">
            @if (!string.IsNullOrEmpty(Model.ImagenRuta))
            {
                <img src="@Model.ImagenRuta" alt="@Model.Titulo" style="max-height:200px; border-radius:8px;" />
            }
            else
            {
                <span>—</span>
            }
        </dd>

        <dt class="col-sm-2">Género</dt>
        <dd class="col-sm-10">
            @if (Model.Genero != null)
            {
                <a asp-controller="Generoes" asp-action="Details" asp-route-id="@Model.GeneroId">
                    @Model.Genero.Nombre
                </a>
            }
            else
            {
                <span>Sin género</span>
            }
        </dd>

        <dt class="col-sm-2">Director</dt>
        <dd class="col-sm-10">
            @if (Model.Director != null)
            {
                <a asp-controller="Directores" asp-action="Details" asp-route-id="@Model.DirectorId">
                    @Model.Director.Nombre
                </a>
            }
            else
            {
                <span>Sin director</span>
            }
        </dd>

        <dt class="col-sm-2">Actores</dt>
        <dd class="col-sm-10">
            @if (Model.Actores != null && Model.Actores.Any())
            {
                @foreach (var pa in Model.Actores)
                {
                    <a asp-controller="Actores" asp-action="Details" asp-route-id="@pa.ActorId">
                        @pa.Actor?.Nombre
                    </a>
                    @(pa.Equals(Model.Actores.Last()) ? "" : ", ")
                }
            }
            else
            {
                <span>Sin actores asociados</span>
            }
        </dd>
    </dl>
</div>

<div class="mt-3">
    <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-warning">Editar</a>
    <a asp-action="Index" class="btn btn-secondary">Volver a la lista</a>
</div>
