@model CineWeb.Models.Pelicula
@{
    ViewData["Title"] = "Detalles";
    var poster = string.IsNullOrWhiteSpace(Model.ImagenRuta) ? "/images/no-poster.png" : Model.ImagenRuta;
}

<div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="h3 mb-0">Detalles de película</h1>
    <div class="d-flex gap-2">
        <a class="btn btn-primary" asp-action="Edit" asp-route-id="@Model.Id"><i class="bi bi-pencil-square"></i> Editar</a>
        <a class="btn btn-outline-secondary" asp-action="Index"><i class="bi bi-arrow-left"></i> Volver</a>
    </div>
</div>

<div class="row g-4">
    <div class="col-md-4">
        <img src="@poster" alt="@Model.Titulo" class="img-fluid rounded border" />
    </div>
    <div class="col-md-8">
        <h2 class="h4">@Model.Titulo</h2>
        @if (!string.IsNullOrWhiteSpace(Model.Sinopsis))
        {
            <p class="text-muted">@Model.Sinopsis</p>
        }

        <dl class="row">
            <dt class="col-sm-4">Género</dt>
            <dd class="col-sm-8">@Model.Genero?.Nombre</dd>

            <dt class="col-sm-4">Director</dt>
            <dd class="col-sm-8">@Model.Director?.Nombre</dd>

            <dt class="col-sm-4">Duración</dt>
            <dd class="col-sm-8">@Model.Duracion min</dd>

            <dt class="col-sm-4">Estreno</dt>
            <dd class="col-sm-8">@Model.FechaEstreno?.ToString("dd/MM/yyyy")</dd>
        </dl>

        <h3 class="h6">Actores</h3>
        @if (Model.Actores != null && Model.Actores.Any())
        {
            <ul class="list-inline">
                @foreach (var a in Model.Actores.Select(x => x.Actor).Where(a => a != null))
                {
                    <li class="list-inline-item badge bg-secondary">@a!.Nombre</li>
                }
            </ul>
        }
        else
        {
            <p class="text-muted">Sin actores asignados.</p>
        }
    </div>
</div>
